"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[917],{2465:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var n=a(4848),i=a(8453);const r={title:"Architecture",sidebar_position:2},s="Overall architecture",c={id:"Overview/architecture",title:"Architecture",description:"ZoomCharts has been built with the idea of visualizing large amounts of data. To do so the internal architecture consists of two layers:",source:"@site/docs/Overview/architecture.md",sourceDirName:"Overview",slug:"/Overview/architecture",permalink:"/Documentation/docs/Overview/architecture",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Overview/architecture.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Architecture",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/Documentation/docs/Overview/"},next:{title:"Assets Loading",permalink:"/Documentation/docs/Overview/assetsLoading"}},o={},l=[{value:"Data cache",id:"data-cache",level:3},{value:"Display layer",id:"display-layer",level:3},{value:"Pending changes",id:"pending-changes",level:3},{value:"Filters",id:"filters",level:3},{value:"Building objects",id:"building-objects",level:3},{value:"Style computation",id:"style-computation",level:3},{value:"Compute coordinates",id:"compute-coordinates",level:3},{value:"Painting",id:"painting",level:3}];function d(e){const t={code:"code",h1:"h1",h3:"h3",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"overall-architecture",children:"Overall architecture"}),"\n",(0,n.jsx)(t.p,{children:"ZoomCharts has been built with the idea of visualizing large amounts of data. To do so the internal architecture consists of two layers:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Data cache that stores all the data. It has very little overhead and can accommodate millions of objects easily (limited by browser memory)."}),"\n",(0,n.jsx)(t.li,{children:"Display layer. It selects what objects to display from the cache. Usually this ranges from few hundreds up to few thousands."}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"data-cache",children:"Data cache"}),"\n",(0,n.jsx)(t.p,{children:"The data cache stores and requests the data that the chart needs. It can work in two modes:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["full data - all data is added to the chart using ",(0,n.jsx)(t.code,{children:"chart.addData"}),", ",(0,n.jsx)(t.code,{children:"chart.replaceData"})," or set into configuration using ",(0,n.jsx)(t.code,{children:"settings.data.preloaded"}),"."]}),"\n",(0,n.jsx)(t.li,{children:"incremental data - a data callback function or URL is provided. The chart dynamically loads more data as user navigates the chart."}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"display-layer",children:"Display layer"}),"\n",(0,n.jsx)(t.p,{children:"Display layer handles all the interaction with the user and renders data. All Charts use a common pipeline to render data. Here is an overview."}),"\n",(0,n.jsx)(t.h3,{id:"pending-changes",children:"Pending changes"}),"\n",(0,n.jsxs)(t.p,{children:["Chart API calls only update configuration. An animation frame is requested and all computationally intensive changes are postponed until rendering of next frame. This approach minimizes computation overhead when performing multiple changes in the chart.\nIt's possible to force evaluation of all changes by calling ",(0,n.jsx)(t.code,{children:"chart.paintNow()"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"filters",children:"Filters"}),"\n",(0,n.jsx)(t.p,{children:"Filter is a javascript function that is called for each object to determine if it has to be shown or not.\nThese are only available on certain chart types."}),"\n",(0,n.jsx)(t.h3,{id:"building-objects",children:"Building objects"}),"\n",(0,n.jsx)(t.p,{children:"For each visible data item a chart object is created."}),"\n",(0,n.jsx)(t.p,{children:"The object building is incremental - only the minimum necessary changes are made to transition from previous state."}),"\n",(0,n.jsx)(t.p,{children:"See the documention on each chart type on what objects are created for each particular chart."}),"\n",(0,n.jsx)(t.h3,{id:"style-computation",children:"Style computation"}),"\n",(0,n.jsx)(t.p,{children:"Style determines each object's color, label and other visual features."}),"\n",(0,n.jsx)(t.p,{children:"Style computation is a flexible system that allows defining both a general look and feel and customizing style for each object individually."}),"\n",(0,n.jsx)(t.p,{children:"There are several ways how to define the style:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"initial style is applied from chart settings"}),"\n",(0,n.jsxs)(t.li,{children:["data can contain ",(0,n.jsx)(t.code,{children:"style"})," attribute"]}),"\n",(0,n.jsx)(t.li,{children:"JavaScript style function can be called on each chart object"}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"See the documentation on each chart type on what style attributes are available for each chart object and how how to specify them."}),"\n",(0,n.jsx)(t.h3,{id:"compute-coordinates",children:"Compute coordinates"}),"\n",(0,n.jsx)(t.p,{children:"When object final style is known, chart layout takes place. The layout usually is implemented with transition animations to ensure visual continuity."}),"\n",(0,n.jsx)(t.h3,{id:"painting",children:"Painting"}),"\n",(0,n.jsx)(t.p,{children:"Finally the chart is painted on HTML5 canvas."})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>s,x:()=>c});var n=a(6540);const i={},r=n.createContext(i);function s(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);